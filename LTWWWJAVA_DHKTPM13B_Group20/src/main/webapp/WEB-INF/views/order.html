<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Danh sách sản phẩm</title>
<link rel="shortcut icon" href="images/logo.PNG" type="image/x-icon" />
<meta charset="utf-8">
<!-- Font awesome -->
<link th:href="@{/resources/css/detailProduct.css}" rel="stylesheet"
	href="../../../resources/css/detailProduct.css">

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Animate -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css" />
<link rel="stylesheet"
	href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet"
	href="https://cdn.datatables.net/1.10.21/css/dataTables.jqueryui.min.css">
<link rel="stylesheet"
	href="https://cdn.datatables.net/buttons/1.6.2/css/buttons.jqueryui.min.css">
<link rel="stylesheet"
	href="https://cdn.datatables.net/buttons/1.6.2/css/buttons.dataTables.min.css">
<!-- Datatable -->
<link rel="stylesheet"
	href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
<!-- Datatable button -->
<link rel="stylesheet"
	href="https://cdn.datatables.net/buttons/1.6.2/css/buttons.bootstrap4.min.css">
<!-- Datatable select -->
<link rel="stylesheet"
	href="https://cdn.datatables.net/select/1.3.1/css/select.bootstrap4.min.css">
<!-- Datatable responsive model -->
<link rel="stylesheet"
	href="https://cdn.datatables.net/responsive/2.2.4/css/responsive.bootstrap4.min.css">
<!-- CSS fix header -->
<link rel="stylesheet"
	href="https://cdn.datatables.net/fixedheader/3.1.7/css/fixedHeader.bootstrap4.min.css">

<!-- ****************************************************************** -->


<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/4.5.0/css/bootstrap.min.css}" />

<!-- jQuery library -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
	th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>

<script
	src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js"
	th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.js}"></script>

<!-- Popper JS -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"
	th:src="@{/webjars/popper.js/1.16.0/umd/popper.min.js}"></script>

<!-- Latest compiled JavaScript -->
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
	th:src="@{/webjars/bootstrap/4.5.0/js/bootstrap.min.js}"></script>

<!-- ****************************************************************** -->

<!-- JQuery Datatable -->
<script
	src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<!-- JQuery Datatable bootstrap 4 -->
<script
	src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
<!-- JQuery Datatable JQueryUI -->
<script
	src="https://cdn.datatables.net/1.10.21/js/dataTables.jqueryui.min.js"></script>
<!-- JQuery Fixed Header -->
<script
	src="https://cdn.datatables.net/fixedheader/3.1.7/js/dataTables.fixedHeader.min.js"></script>
<!-- JQuery Button -->
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
<!-- JQuery Button bootstrap 4 -->
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.bootstrap4.min.js"></script>
<!-- JQuery Button JQueryUI -->
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.jqueryui.min.js"></script>
<!-- JQuery Button HTML5 -->
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
<!-- JQuery Button Print -->
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js"></script>
<!-- JQuery Button Colvi -->
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.colVis.min.js"></script>
<!-- JQuery JSzip -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<!-- JQuery PDF Maker -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<!-- JQuery PDF fonts -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<!-- JQuery Select -->
<script
	src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>

<script
	src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
<link th:href="@{/resources/css/sb-admin-2.min.css}" rel="stylesheet">
<style type="text/css">
.glOjBk .inner {
    background-color: rgb(255, 255, 255);
    border-radius: 4px;
    padding: 1px;
}
.glOjBk table {
    border-collapse: collapse;
    width: 100%;
    word-break: break-word;
}
.glOjBk tr {
    border-bottom: 1px solid rgb(244, 244, 244);
}
.glOjBk th, .glOjBk td {
    min-width: 130px;
    font-size: 15px;
    font-weight: 400;
    text-align: left;
    padding: 20px 15px;
}
.glOjBk td {
    font-size: 13px;
    line-height: 20px;
    color: rgb(51, 51, 51);
}
.edAZXd {
	flex: 1 1 0%;
}
.jFkAwY {
	width: 1270px;
	padding-left: 15px;
	padding-right: 15px;
	margin-right: auto;
	margin-left: auto;
	background-color: #f5f5f0;
}
</style>
</head>
<html>
<body>
	<div class="header">
		<nav
			class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
			<!-- Topbar Search -->
			<div class="logo">
				<a href="/www/index"><img class="icon"
					th:src="@{/resources/image/logo.PNG}"></a>
			</div>
			<form
				class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
				<div class="input-group">
					<input type="text" class="form-control bg-light border-0 small"
						placeholder="Nhập từ khóa bạn muốn tìm kiếm">
					<button class="btn btn-primary" type="button">
						<i class="fas fa-search fa-sm"></i>
					</button>
				</div>
			</form>

			<!-- Topbar Navbar -->
			<ul class="navbar-nav ml-auto">

				<!-- Shopping Cart -->
				<li class="nav-item dropdown no-arrow mx-1"><a
					class="nav-link dropdown-toggle" th:href="@{/ShoppingCart}"> <i
						class="fa fa-cart-plus " aria-hidden="true"
						style="font-size: 24px"></i> <!-- Counter - Messages --> <span
						class="badge badge-danger badge-counter"
						th:text="${myCart.getLineItemCount()}"></span>
				</a></li>

				<!-- Nav Item - User Information -->
				<li class="nav-item dropdown no-arrow"
					th:style="${account==null}? 'display: none;':'display: block;'">
					<a class="nav-link dropdown-toggle" href="#" role="button"
					data-toggle="dropdown" aria-expanded="false"> <span
						class="mr-2 d-none d-lg-inline text-gray-600 small"
						th:if="${account!=null}" th:text="${account.accountName}"></span>
						<i class="fa fa-user" aria-hidden="true" style="font-size: 24px"></i>
				</a> <!-- Dropdown - User Information -->
					<div
						class="dropdown-menu dropdown-menu-right shadow animated--grow-in">
						<a class="dropdown-item" data-toggle="modal"
							data-target="#modalEditKhachHang"> <i
							class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i> Thông Tin
						</a> <a class="dropdown-item" th:href="@{/order}"> <i
							class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i> Đơn hàng
							của tôi
						</a> <a class="dropdown-item" th:href="@{/sign-out}"> <i
							class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
							Đăng Xuất
						</a>
					</div>
				</li>
			</ul>

		</nav>
		<!-- End of Topbar -->
	</div>
	<div class="jFkAwY">
		<div class="edAZXd">
		<div class="glOjBk">
			<div class="heading">Đơn hàng của tôi</div>
			<div class="inner">
				<table>
					<thead style="background-color: green; color: white">
						<tr>
							<th>Mã đơn hàng</th>
							<th>Ngày mua</th>
							<th>Sản phẩm</th>
							<th>Tổng tiền</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="o,itemIndex:${orderHeaders}" th:style="${itemIndex.odd}? 'background-color: #ebebe0;'">
							<td><a style="text-decoration: none;" th:href="@{/orderdetail(order_id=${o.orderId})}"><span th:text="${o.orderId}"></span></a></td>
							<td><span th:text="${o.orderDate}"></span></td>
							<td>
								<span th:if="${o.orderDetails.size()>1}" th:text="${o.orderDetails.get(0).product.productName}+' và '+${o.orderDetails.size()-1}+' sản phẩm khác'"></span>
								<span th:unless="${o.orderDetails.size()>1}" th:text="${o.orderDetails.get(0).product.productName}"></span>
							</td>
							<td><span th:text="${o.total}+' ₫'"></span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	</div>
	
	<div class="modal fade" id="modalEditKhachHang" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<form id="formEditKhachHang" action="/www/index/khachhang"
					method="POST" novalidate="novalidate">
					<!-- Modal header -->
					<div class="modal-header">
						<h4 class="modal-title">Thông tin Khách hàng</h4>
						<button type="button" class="close" data-dismiss="modal">×</button>
					</div>

					<!-- Modal body -->
					<div class="modal-body">

						<div class="form-group">
							<label for="accountId">Mã Khách hàng</label> <input
								class="form-control" type="number" name="accountId"
								id="accountId" placeholder="Mã Khách hàng" readonly=""
								th:value="${account.accountId}">
						</div>
						<div class="form-group">
							<label for="accountName">Họ và tên</label> <input
								class="form-control" type="text" name="accountName"
								id="accountName" placeholder="Họ và tên" disabled=""
								required="" th:value="${account.accountName}">
						</div>
						<div class="form-group">
							<label for="gender">Giới tính</label>
							<div id="gender" class="ml-5">
								<div class="form-check-inline">
									<label class="form-check-label"> <input type="radio"
										class="form-check-input" name="gender" id="genderNam"
										value="Nam" disabled="" required=""
										th:checked="${account.gender=='Nam'}"> Name
									</label>
								</div>
								<div class="form-check-inline">
									<label class="form-check-label"> <input type="radio"
										class="form-check-input" name="gender" id="genderNu"
										value="Nu" disabled="" required=""
										th:checked="${account.gender=='Nu'}"> Nữ
									</label>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label for="birthday">Ngày sinh</label> <input
								class="form-control" type="text" name="birthday"
								data-date-format="dd/MM/yyyy" id="birthday" disabled=""
								required="" th:value="${account.birthday}">
						</div>
						<div class="form-group">
							<label for="email">Email</label> <input class="form-control"
								type="email" name="email" id="accountemail" disabled=""
								required="" th:value="${account.email}">
						</div>
						<div class="form-group">
							<label for="phone">Số điện thoại</label> <input
								class="form-control" type="tel" name="phone" id="phone"
								disabled="" required="" th:value="${account.phone}">
						</div>

					</div>

					<!-- Modal footer -->
					<div class="modal-footer">
						<button type="button" class="btn btn-outline-success" id="btnSua"
							onclick="disableFalseModal()">Sửa</button>
						<button type="submit" class="btn btn-success"
							style="display: none;" id="btnLuu">Lưu</button>
						<button type="button" class="btn btn-warning"
							style="display: none;" id="btnHuy" onclick="disableTrueModal()">Huỷ</button>
						<button type="button" class="btn btn-danger" data-dismiss="modal">
							<i class="fa fa-close"></i>Close
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>

</html>
